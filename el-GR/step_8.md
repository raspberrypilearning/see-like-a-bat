## Δοκιμή του UDS

Τώρα πρέπει να βεβαιωθείς ότι το UDS λειτουργεί σωστά. Θα χρειαστεί λίγο κώδικα Python 3 για να το κάνεις αυτό, άνοιξε το IDLE και δημιούργησε ένα νέο αρχείο που ονομάζεται ` bat.py `.

- Θα χρησιμοποιήσεις την βιβλιοθήκη GPIO Zero για να το κωδικοποιήσεις, αλλά το UDS δεν είναι ακόμα στη βιβλιοθήκη. Για να μην ανησυχείς: μπορείς να χρησιμοποιήσεις τα προεπιλεγμένα InputDevice και OutputDevice αντί:

    ```python
    from gpiozero import InputDevice, OutputDevice
    from time import sleep, time
    ```

- Στη συνέχεια, μπορείς να ρυθμίσεις τις ακίδες σκανδαλισμού και ηχούς του αισθητήρα απόστασης:

    ```python
    trig = OutputDevice(4)
    echo = InputDevice(17)

    sleep(2)
    ```

    Το ` sleep(2) ` υπάρχει για να κάνει τον αισθητήρα να αυτορυθμιστεί όταν ξεκινά το πρόγραμμα.

- Στη συνέχεια μπορείς να δημιουργήσεις μια συνάρτηση για να στείλεις και να λάβεις έναν παλμό. Το πρώτο πράγμα που πρέπει να κάνεις είναι να ρυθμίσεις την ακίδα σκανδαλισμού για να στείλει μια ριπή υπερήχων για 10 μs:

    ```python
    def get_pulse_time():
       trig.on()
       sleep(0.00001)
       trig.off()
    ```

- Μόλις ο αισθητήρας υπερήχων έχει στείλει μια ριπή ήχου, ο ακροδέκτης ηχούς είναι ρυθμισμένος σε `high `. Μπορείς να χρησιμοποιήσεις ένα βρόχο ` while` για να ανιχνεύσει πότε συμβαίνει αυτό και στη συνέχεια να καταγράψει την τρέχουσα ώρα:

    ```python
        while echo.is_active == False:
            pulse_start = time()

    ```

- Όταν λαμβάνεται μια ηχώ, ο ακροδέκτης ηχούς είναι ρυθμισμένος σε ` low`. Ένας άλλος βρόχος `while` θα είναι σε θέση να καταγράψει τον χρόνο στον οποίο συμβαίνει:

    ```python
        while echo.is_active == True:
            pulse_end = time()

    ```

- Στη συνέχεια, πρέπει να αφήσεις λίγο τον αισθητήρα υπερήχων σε αναστολή και στη συνέχεια, να επιστρέψει το χρονικό διάστημα που χρειάστηκε για να στείλει και να λάβει πίσω τον παλμό:

    ```python
        sleep(0.06)

        return pulse_end - pulse_start
    ```

- Για να τελειώσεις μπορείς να δοκιμάσεις το πρόγραμμα εκτελώντας το και στη συνέχεια πληκτρολογώντας τα ακόλουθα στον διερμηνέα:

    ```python
    print(get_pulse_time())

    ```

Δοκίμασε να το πληκτρολογήσεις όταν το χέρι σου είναι κοντά και μακριά από τον αισθητήρα απόστασης. Θα πρέπει να λάβεις μικρότερες τιμές καθώς το χέρι σου προσεγγίζει τον αισθητήρα.

